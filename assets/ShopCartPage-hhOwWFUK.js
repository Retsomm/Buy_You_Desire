import{a as N,u as v,b as y,j as s}from"./index-BpZ-BleL.js";import{r as g}from"./redux-CATTtzwa.js";import{u as C,r as f,c as b,b as E}from"./cartThunks-ZPCOa2Ww.js";import{E as l,b as r,T as I,L as n,k as T,l as k}from"./ui-CqXxwp-7.js";import"./vendor-Bzgz95E1.js";import"./cartActions-8vH6VOaz.js";const{Title:S,Text:M}=I,Q=()=>{const t=N(),m=v(),{items:i,totalQuantity:o,totalPrice:d}=y(a=>a),[c,h]=g.useState(!1),p=(a,e)=>{t(C(a,e))},u=a=>{t(f(a))},x=()=>{t(b())},j=()=>{h(!0),t(E()),setTimeout(()=>{m("/bill")},3e3)};return i.length===0?s.jsx("div",{className:"shop-cart-container",children:s.jsxs("div",{className:"empty-cart-container",children:[s.jsx(l,{description:"購物車是空的",image:l.PRESENTED_IMAGE_SIMPLE}),s.jsx(r,{type:"primary",href:"/good",style:{marginTop:16},children:"去購物"})]})}):s.jsxs("div",{className:"shop-cart-container",children:[s.jsx("div",{className:"cart-header",children:s.jsx(S,{level:2,children:"購物車"})}),s.jsx(n,{itemLayout:"horizontal",dataSource:i,renderItem:a=>s.jsx(n.Item,{className:"cart-item",children:s.jsxs("div",{className:"cart-item-content",children:[s.jsxs("div",{className:"cart-item-info",children:[s.jsx("div",{className:"cart-item-title",children:a.title}),s.jsx("div",{className:"cart-item-description",children:a.description}),s.jsx("div",{className:"cart-item-tags",children:a.tags.map(e=>s.jsx("span",{className:"cart-item-tag",children:e},e))})]}),s.jsxs("div",{className:"cart-item-actions",children:[s.jsx("div",{className:"cart-item-price",children:a.price}),s.jsxs("div",{className:"cart-item-quantity",children:[s.jsx(M,{children:"數量："}),s.jsx(T,{min:1,max:99,value:a.quantity,onChange:e=>p(a.id,e||1),size:"small"})]}),s.jsx(r,{type:"text",danger:!0,icon:s.jsx(k,{}),onClick:()=>u(a.id),className:"remove-button",children:"移除"})]})]})})}),s.jsxs("div",{className:"cart-summary",children:[s.jsxs("div",{className:"cart-summary-row",children:[s.jsx("span",{className:"cart-summary-label",children:"總商品數量："}),s.jsxs("span",{className:"cart-summary-value",children:[o," 件"]})]}),s.jsxs("div",{className:"cart-summary-row",children:[s.jsx("span",{className:"cart-summary-label",children:"總金額："}),s.jsxs("span",{className:"cart-summary-value cart-summary-total",children:["NT$ ",d.toLocaleString()]})]})]}),s.jsxs("div",{className:"cart-footer",children:[s.jsx(r,{onClick:x,children:"清空購物車"}),s.jsx(r,{type:"primary",size:"large",onClick:j,loading:c,disabled:c,children:c?"處理中...":"結帳"})]})]})};export{Q as default};
